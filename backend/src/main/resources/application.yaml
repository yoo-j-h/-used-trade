spring:
  application:
    name: ct
  config:
    # 1. 시크릿 파일(application_secret.properties)을 여기서 불러옵니다.
    import: optional:classpath:application_secret.yaml
  profiles:
    active: dev

server:
  port: 8001
  servlet:
    encoding:
      charset: UTF-8
      enabled: true
      force: true

---
# [개발 환경 설정: dev]
spring:
  config:
    activate:
      on-profile: dev

  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver # MySQL 드라이버
    # 2. 시크릿 파일에 있는 변수 값을 여기에 주입합니다.
    url: ${DATASOURCE.URL}
    username: ${DATASOURCE.USERNAME}
    password: ${DATASOURCE.PASSWORD}

  # JPA 설정 (MySQL용)
  jpa:
    hibernate:
      ddl-auto: update
      naming:
        physical-strategy: org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect
        format_sql: true

  # 파일 업로드 설정
  servlet:
    multipart:
      max-file-size: 20MB
      max-request-size: 100MB
